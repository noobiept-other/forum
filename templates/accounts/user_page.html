{% extends "base.html" %}
{% load humanize %}

{% block content %}

<h2>Username: {{ pageUser.username }}</h2>

<p>Joined: {{ pageUser.date_joined }} ({{ pageUser.date_joined|naturaltime }})</p>
<p>Total posts: {{ total_posts }}</p>
<p>Total threads: {{ total_threads }}</p>

{% if user.is_authenticated %}

    {% if user.username == pageUser.username %}
        <ul>
            <li><a href="{% url 'check_message' %}">See messages.</a></li>
            <li><a>Change password.</a></li>
        </ul>
    {% else %}
        <ul>
            <li><a href="{% url 'send_message' pageUser.username %}">Send private message.</a></li>
        </ul>
    {% endif %}
{% endif %}

<h2>Last posts</h2>

{% if last_posts %}
    <ul>
        {% for post in last_posts %}
            <li><a href="{{ post.get_url }}">{{ post.text|truncatechars:20 }}</a></li>
        {% endfor %}
    </ul>
{% else %}
    <p>No posts.</p>
{% endif %}

<h2>Last threads</h2>

{% if last_threads %}
    <ul>
        {% for thread in last_threads %}
            <li><a href="{{ thread.get_url }}">{{ thread.title|truncatechars:20 }}</a></li>
        {% endfor %}
    </ul>
{% else %}
    <p>No threads.</p>
{% endif %}


{% endblock %}